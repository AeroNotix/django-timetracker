{% extends "base.html" %}

{% block header %}
    <link href="{{ STATIC_URL }}calendar.css" type="text/css"
          rel="stylesheet" />

    <script type="text/javascript" src="{{ STATIC_URL }}jquery/js/timepicker.js">
    </script>
{% endblock header %}


{% block content %}


<form action="#" method="POST" id="add-form">
  {% csrf_token %}
  <fieldset class="entry-form" id="add-entry-fs">
    <legend>Add Entry</legend>
    <table>
      {{ addform.as_table }}
      <tr>
        <td></td>
        <td align="right">
          <button>Submit</button>
        </td>
      </tr>
    </table>
  </fieldset>
</form>

<form action="#" method="POST" id="change-form">
  {% csrf_token %}
  <fieldset class="entry-form" id="change-entry-fs">
    <legend>Change Entry</legend>
    <table>
      {{ changeform.as_table }}
      <tr>
        <td></td>
        <td align="right">
          <button>Submit</button>
        </td>
      </tr>
    </table>
  </fieldset>
</form>


<script type="text/javascript">

   function addTimePicker(element, state) {
       $(element).timepicker({});
       $(element).val('');
       
       if (!state) {
          $(element).timepicker("disable");
       }
   };

   function addDatePicker(element, state) {
       $(element).datepicker();
       $(element).val('');
       $(element).datepicker("option", "dateFormat", 'yy-mm-dd');
       
       if (!state) {
          $(element).datepicker("disable");
       }
   };


   addTimePicker("#line_starttime", false);
   addTimePicker("#line_endtime", false);
   addTimePicker("#add_starttime", true);
   addTimePicker("#add_endtime", true);
   
   addDatePicker("#line_entrydate", false);
   addDatePicker("#add_entrydate", true);


</script>

{{ calendar|safe }}

{% endblock content %}
